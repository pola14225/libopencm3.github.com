<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libopencm3: GPIO pin configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libopencm3
   </div>
   <div id="projectbrief">A free/libre/open-source firmware library for various ARM Cortex-M3 microcontrollers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>libopencm3</span></a></li>
      <li><a href="../../html/index.html"><span>Back&#160;to&#160;Top</span></a></li>
      <li><a href="../../cm3/html/modules.html"><span>CM3&#160;Core</span></a></li>
      <li><a href="../../usb/html/modules.html"><span>Generic&#160;USB</span></a></li>
      <li><a href="../../stm32f1/html/modules.html"><span>STM32F1</span></a></li>
      <li><a href="../../stm32f2/html/modules.html"><span>STM32F2</span></a></li>
      <li><a href="../../stm32f4/html/modules.html"><span>STM32F4</span></a></li>
      <li><a href="../../stm32l1/html/modules.html"><span>STM32L1</span></a></li>
      <li><a href="../../lm3s/html/modules.html"><span>LM3S</span></a></li>
      <li><a href="modules.html"><span>LM4F</span></a></li>
      <li><a href="../../lpc13xx/html/modules.html"><span>LPC13</span></a></li>
      <li><a href="../../lpc17xx/html/modules.html"><span>LPC17</span></a></li>
      <li><a href="../../lpc43xx/html/modules.html"><span>LPC43</span></a></li>
      <li><a href="../../emf32g/html/modules.html"><span>EMF32&#160;Gecko</span></a></li>
      <li><a href="../../emf32gg/html/modules.html"><span>EMF32&#160;Giant&#160;Gecko</span></a></li>
      <li><a href="../../emf32lg/html/modules.html"><span>EMF32&#160;Leopard&#160;Gecko</span></a></li>
      <li><a href="../../emf32tg/html/modules.html"><span>EMF32&#160;Tiny&#160;Gecko</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__gpio__config.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GPIO pin configuration</div>  </div>
<div class="ingroups"><a class="el" href="group__gpio__file.html">GPIO</a></div></div><!--header-->
<div class="contents">

<p><b>Enabling and configuring GPIO pins</b>  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for GPIO pin configuration:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__gpio__config.png" border="0" alt="" usemap="#group____gpio____config"/>
<map name="group____gpio____config" id="group____gpio____config">
<area shape="rect" id="node1" href="group__gpio__file.html" title="libopencm3 LM4F General Purpose I/O" alt="" coords="7,5,60,35"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga973a4b2fdbe9c67f34d323e8426e45e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gpio__config.html#ga973a4b2fdbe9c67f34d323e8426e45e3">gpio_enable_ahb_aperture</a> (void)</td></tr>
<tr class="memdesc:ga973a4b2fdbe9c67f34d323e8426e45e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable access to GPIO registers via the AHB aperture.  <a href="#ga973a4b2fdbe9c67f34d323e8426e45e3"></a><br/></td></tr>
<tr class="memitem:gac3ca54b7e2b154aeb9da53f8b3e905ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gpio__config.html#gac3ca54b7e2b154aeb9da53f8b3e905ba">gpio_mode_setup</a> (<a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> gpioport, enum <a class="el" href="group__gpio__defines.html#ga620d533a2ccc5296d2f6c8b95bf89fe1">gpio_mode</a> mode, enum <a class="el" href="group__gpio__defines.html#ga45e6c8e8730474e4644929cc5528400b">gpio_pullup</a> pullup, <a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> gpios)</td></tr>
<tr class="memdesc:gac3ca54b7e2b154aeb9da53f8b3e905ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure a group of pins.  <a href="#gac3ca54b7e2b154aeb9da53f8b3e905ba"></a><br/></td></tr>
<tr class="memitem:gaeb5dfc3b455c08949eb1bcd871175ec6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gpio__config.html#gaeb5dfc3b455c08949eb1bcd871175ec6">gpio_set_output_config</a> (<a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> gpioport, enum <a class="el" href="group__gpio__defines.html#gad59707c5e578193702cfb29b49b88108">gpio_output_type</a> otype, enum <a class="el" href="group__gpio__defines.html#ga14eba84c1c8f80b08a770775d3bf060a">gpio_drive_strength</a> drive, <a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> gpios)</td></tr>
<tr class="memdesc:gaeb5dfc3b455c08949eb1bcd871175ec6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure output parameters of a group of pins.  <a href="#gaeb5dfc3b455c08949eb1bcd871175ec6"></a><br/></td></tr>
<tr class="memitem:gaa275d2d5cc2b242926f2fd113245083d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gpio__config.html#gaa275d2d5cc2b242926f2fd113245083d">gpio_set_af</a> (<a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> gpioport, <a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> alt_func_num, <a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> gpios)</td></tr>
<tr class="memdesc:gaa275d2d5cc2b242926f2fd113245083d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multiplex group of pins to the given alternate function.  <a href="#gaa275d2d5cc2b242926f2fd113245083d"></a><br/></td></tr>
<tr class="memitem:gad85a11697ef4bef24da7e75f7420a529"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gpio__config.html#gad85a11697ef4bef24da7e75f7420a529">gpio_unlock_commit</a> (<a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> gpioport, <a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> gpios)</td></tr>
<tr class="memdesc:gad85a11697ef4bef24da7e75f7420a529"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the commit control of a special function pin.  <a href="#gad85a11697ef4bef24da7e75f7420a529"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<p><b>Enabling and configuring GPIO pins</b> </p>
<h1><a class="anchor" id="gpio_api_enable"></a>
Enabling GPIO ports</h1>
<dl class="section attention"><dt>Attention</dt><dd>Before accessing GPIO functionality through this API, the AHB aperture for GPIO ports must be enabled via a call to <a class="el" href="group__gpio__defines.html#ga2c31c812d3e1456162b2d5a7004f8c0b">gpio_enable_ahb_aperture()</a>. Failing to do so will cause a hard fault.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Once the AHB aperture is enabled, GPIO registers can no longer be accessed via the APB aperture. The two apertures are mutually exclusive.</dd></dl>
<p>Enabling the AHB aperture only needs to be done once. However, in order to access a certain GPIO port, its clock must also be enabled. Enabling the GPIO clock needs to be done for every port that will be used.</p>
<p>For example, to enable GPIOA and GPIOD: </p>
<div class="fragment"><div class="line"><span class="comment">// Make sure we can access the GPIO via the AHB aperture</span></div>
<div class="line"><a class="code" href="group__gpio__defines.html#ga2c31c812d3e1456162b2d5a7004f8c0b" title="Enable access to GPIO registers via the AHB aperture.">gpio_enable_ahb_aperture</a>();</div>
<div class="line">...</div>
<div class="line"><span class="comment">// Enable GPIO ports A and D</span></div>
<div class="line">periph_clock_enable(<a class="code" href="group__systemcontrol__defines.html#gga9fbad613b184a3b51402b61135965959a3679ad09af8988bc42fbb91d3f4dc680">RCC_GPIOA</a>);</div>
<div class="line"><a class="code" href="group__systemcontrol__defines.html#ga4c643a7c0a0ab8e4adbd057429703568" title="Enable the clock source for the peripheral.">periph_clock_enable</a>(<a class="code" href="group__systemcontrol__defines.html#gga9fbad613b184a3b51402b61135965959ade83c8caa918ccda0766791076460d1e">RCC_GPIOD</a>);</div>
</div><!-- fragment --><p>On reset all ports are configured as digital floating inputs (no pull-up or pull-down), except for special function pins.</p>
<h1><a class="anchor" id="gpio_api_in"></a>
Configuring pins as inputs</h1>
<p>Configuring GPIO pins as inputs is done with <a class="el" href="group__gpio__defines.html#gac3ca54b7e2b154aeb9da53f8b3e905ba">gpio_mode_setup()</a>, with <a class="el" href="group__gpio__defines.html#gga620d533a2ccc5296d2f6c8b95bf89fe1a61ddb59c5e9a9cc6d9cf99d11a36920b">GPIO_MODE_INPUT</a> for the mode parameter. The direction of the pull-up must be specified with the same call</p>
<p>For example, PA2, PA3, and PA4 as inputs, with pull-up on PA4: </p>
<div class="fragment"><div class="line"><a class="code" href="group__gpio__defines.html#gac3ca54b7e2b154aeb9da53f8b3e905ba" title="Configure a group of pins.">gpio_mode_setup</a>(GPIOA, <a class="code" href="group__gpio__defines.html#gga620d533a2ccc5296d2f6c8b95bf89fe1aa5824cd687ac84449b093087c25cec7c" title="Configure pin as output.">GPIO_MODE_OUTPUT</a>, <a class="code" href="group__gpio__defines.html#gga45e6c8e8730474e4644929cc5528400ba7807e2b9a6941fdb1326d9506af81a67" title="Do not pull the pin high or low.">GPIO_PUPD_NONE</a>, GPIO2 | GPIO3);</div>
<div class="line"><a class="code" href="group__gpio__defines.html#gac3ca54b7e2b154aeb9da53f8b3e905ba" title="Configure a group of pins.">gpio_mode_setup</a>(GPIOA, <a class="code" href="group__gpio__defines.html#gga620d533a2ccc5296d2f6c8b95bf89fe1aa5824cd687ac84449b093087c25cec7c" title="Configure pin as output.">GPIO_MODE_OUTPUT</a>, <a class="code" href="group__gpio__defines.html#gga45e6c8e8730474e4644929cc5528400ba10489125ed48a34dd001fa33e13ae396" title="Pull the pin high.">GPIO_PUPD_PULLUP</a>, GPIO4);</div>
</div><!-- fragment --><h1><a class="anchor" id="gpio_api_out"></a>
Configuring pins as outputs</h1>
<p>Output pins have more configuration options than input pins. LM4F pins can be configured as either push-pull, or open drain. The drive strength of each pin can be adjusted between 2mA, 4mA, or 8mA. Slew-rate control is available when the pins are configured to drive 8mA. These extra options can be specified with <a class="el" href="group__gpio__defines.html#gaeb5dfc3b455c08949eb1bcd871175ec6">gpio_set_output_config()</a>. The default is push-pull configuration with 2mA drive capability.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="group__gpio__defines.html#gaeb5dfc3b455c08949eb1bcd871175ec6">gpio_set_output_config()</a> controls different capabilities than the similar sounding gpio_set_output_options() from the STM GPIO API. They are intentionally named differently to prevent confusion between the two. They are API incompatible.</dd></dl>
<p>For example, to set PA2 to output push-pull with a drive strength of 8mA: </p>
<div class="fragment"><div class="line"><a class="code" href="group__gpio__defines.html#gac3ca54b7e2b154aeb9da53f8b3e905ba" title="Configure a group of pins.">gpio_mode_setup</a>(GPIOA, <a class="code" href="group__gpio__defines.html#gga620d533a2ccc5296d2f6c8b95bf89fe1aa5824cd687ac84449b093087c25cec7c" title="Configure pin as output.">GPIO_MODE_OUTPUT</a>, <a class="code" href="group__gpio__defines.html#gga45e6c8e8730474e4644929cc5528400ba7807e2b9a6941fdb1326d9506af81a67" title="Do not pull the pin high or low.">GPIO_PUPD_NONE</a>, GPIO2);</div>
<div class="line"><a class="code" href="group__gpio__defines.html#gaeb5dfc3b455c08949eb1bcd871175ec6" title="Configure output parameters of a group of pins.">gpio_set_output_config</a>(GPIOA, <a class="code" href="group__gpio__defines.html#ggad59707c5e578193702cfb29b49b88108a6f3629cecfb427731be8487dce2970ef" title="Push-pull configuration.">GPIO_OTYPE_PP</a>, <a class="code" href="group__gpio__defines.html#gga14eba84c1c8f80b08a770775d3bf060aa769a972b3ebbb6ad8dcf54abdb24df10" title="8mA drive">GPIO_DRIVE_8MA</a>, GPIO2);</div>
</div><!-- fragment --><h1><a class="anchor" id="gpio_api_analog"></a>
Configuring pins as analog function</h1>
<p>Configuring GPIO pins to their analog function is done with <a class="el" href="group__gpio__defines.html#gac3ca54b7e2b154aeb9da53f8b3e905ba">gpio_mode_setup()</a>, with <a class="el" href="group__gpio__defines.html#gga620d533a2ccc5296d2f6c8b95bf89fe1a5a5b8916bf45f2a4ff3818fa75f85d27">GPIO_MODE_ANALOG</a> for the mode parameter.</p>
<p>Suppose PD4 and PD5 are the USB pins. To enable their analog functionality (USB D+ and D- in this case), use: </p>
<div class="fragment"><div class="line"><span class="comment">// Mux USB pins to their analog function</span></div>
<div class="line"><a class="code" href="group__gpio__defines.html#gac3ca54b7e2b154aeb9da53f8b3e905ba" title="Configure a group of pins.">gpio_mode_setup</a>(GPIOD, <a class="code" href="group__gpio__defines.html#gga620d533a2ccc5296d2f6c8b95bf89fe1a5a5b8916bf45f2a4ff3818fa75f85d27" title="Configure pin as analog function.">GPIO_MODE_ANALOG</a>, <a class="code" href="group__gpio__defines.html#gga45e6c8e8730474e4644929cc5528400ba7807e2b9a6941fdb1326d9506af81a67" title="Do not pull the pin high or low.">GPIO_PUPD_NONE</a>, GPIO4 | GPIO5);</div>
</div><!-- fragment --><h1><a class="anchor" id="gpio_api_alf_func"></a>
Configuring pins as alternate functions</h1>
<p>Most pins have alternate functions associated with them. When a pin is set to an alternate function, it is multiplexed to one of the dedicated hardware peripheral in the chip. The alternate function mapping can be found in the part's datasheet, and usually varies between arts of the same family.</p>
<p>Multiplexing a pin, or group of pins to an alternate function is done with <a class="el" href="group__gpio__defines.html#gaa275d2d5cc2b242926f2fd113245083d">gpio_set_af()</a>. Because AF0 is not used on the LM4F, passing 0 as the alt_func_num parameter will disable the alternate function of the given pins.</p>
<div class="fragment"><div class="line"><span class="comment">// Mux PB0 and PB1 to AF1 (UART1 TX/RX in this case)</span></div>
<div class="line"><a class="code" href="group__gpio__defines.html#gaa275d2d5cc2b242926f2fd113245083d" title="Multiplex group of pins to the given alternate function.">gpio_set_af</a>(GPIOB, 1, GPIO0 | GPIO1);</div>
</div><!-- fragment --><h1><a class="anchor" id="gpio_api_sfpins"></a>
Changing configuration of special function pins</h1>
<p>On the LM4F, the NMI and JTAG/SWD default to their alternate function. These pins cannot normally be committed to GPIO usage. To enable these special function pins to be used as GPIO, they must be unlocked. This may be achieved via <a class="el" href="group__gpio__config.html#gad85a11697ef4bef24da7e75f7420a529">gpio_unlock_commit</a>. Once a special function pin is unlocked, its settings may be altered in the usual way.</p>
<p>For example, to unlock the PF0 pin (NMI on the LM4F120): </p>
<div class="fragment"><div class="line"><span class="comment">// PF0 is an NMI pin, and needs to be unlocked</span></div>
<div class="line"><a class="code" href="group__gpio__defines.html#gad85a11697ef4bef24da7e75f7420a529" title="Unlock the commit control of a special function pin.">gpio_unlock_commit</a>(GPIOF, GPIO0);</div>
<div class="line"><span class="comment">// Now the pin can be configured</span></div>
<div class="line"><a class="code" href="group__gpio__defines.html#gac3ca54b7e2b154aeb9da53f8b3e905ba" title="Configure a group of pins.">gpio_mode_setup</a>(RGB_PORT, <a class="code" href="group__gpio__defines.html#gga620d533a2ccc5296d2f6c8b95bf89fe1a61ddb59c5e9a9cc6d9cf99d11a36920b" title="Configure pin as input.">GPIO_MODE_INPUT</a>, <a class="code" href="group__gpio__defines.html#gga45e6c8e8730474e4644929cc5528400ba10489125ed48a34dd001fa33e13ae396" title="Pull the pin high.">GPIO_PUPD_PULLUP</a>, btnpins);</div>
</div><!-- fragment --> <h2>Function Documentation</h2>
<a class="anchor" id="ga973a4b2fdbe9c67f34d323e8426e45e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpio_enable_ahb_aperture </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable access to GPIO registers via the AHB aperture. </p>
<p>All GPIO registers are accessed in libopencm3 via the AHB aperture. It provides faster control over the older APB aperture. This aperture must be enabled before calling any other gpio_*() function. </p>

<p>Definition at line <a class="el" href="gpio_8c_source.html#l00184">184</a> of file <a class="el" href="gpio_8c_source.html">gpio.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac3ca54b7e2b154aeb9da53f8b3e905ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpio_mode_setup </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>gpioport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__gpio__defines.html#ga620d533a2ccc5296d2f6c8b95bf89fe1">gpio_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__gpio__defines.html#ga45e6c8e8730474e4644929cc5528400b">gpio_pullup</a>&#160;</td>
          <td class="paramname"><em>pullup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td>
          <td class="paramname"><em>gpios</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure a group of pins. </p>
<p>Sets the Pin direction, analog/digital mode, and pull-up configuration of or a set of GPIO pins on a given GPIO port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gpioport</td><td>GPIO block register address base <a class="el" href="group__gpio__reg__base.html">GPIO register base addresses</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Pin mode (<a class="el" href="group__gpio__defines.html#ga620d533a2ccc5296d2f6c8b95bf89fe1">gpio_mode</a>) <br/>
<ul>
<li>GPIO_MODE_OUTPUT &ndash; Configure pin as output <br/>
</li>
<li>GPIO_MODE_INPUT &ndash; Configure pin as input <br/>
</li>
<li>GPIO_MODE_ANALOG &ndash; Configure pin as analog function </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pullup</td><td>Pin pullup/pulldown configuration (<a class="el" href="group__gpio__defines.html#ga45e6c8e8730474e4644929cc5528400b">gpio_pullup</a>) <br/>
<ul>
<li>GPIO_PUPD_NONE &ndash; Do not pull the pin high or low <br/>
</li>
<li>GPIO_PUPD_PULLUP &ndash; Pull the pin high <br/>
</li>
<li>GPIO_PUPD_PULLDOWN &ndash; Pull the pin low </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gpios</td><td><a class="el" href="group__gpio__pin__id.html">GPIO pin identifiers</a>. Any combination of pins may be specified by OR'ing then together </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gpio_8c_source.html#l00207">207</a> of file <a class="el" href="gpio_8c_source.html">gpio.c</a>.</p>

<p>References <a class="el" href="gpio_8h_source.html#l00184">GPIO_MODE_ANALOG</a>, <a class="el" href="gpio_8h_source.html#l00183">GPIO_MODE_INPUT</a>, <a class="el" href="gpio_8h_source.html#l00182">GPIO_MODE_OUTPUT</a>, <a class="el" href="gpio_8h_source.html#l00188">GPIO_PUPD_NONE</a>, <a class="el" href="gpio_8h_source.html#l00190">GPIO_PUPD_PULLDOWN</a>, and <a class="el" href="gpio_8h_source.html#l00189">GPIO_PUPD_PULLUP</a>.</p>

</div>
</div>
<a class="anchor" id="gaa275d2d5cc2b242926f2fd113245083d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpio_set_af </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>gpioport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td>
          <td class="paramname"><em>alt_func_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td>
          <td class="paramname"><em>gpios</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Multiplex group of pins to the given alternate function. </p>
<p>Mux the pin or group of pins to the given alternate function. Note that a number of pins may be set but only with a single AF number. This is useful when one or more of a peripheral's pins are assigned to the same alternate function.</p>
<p>Because AF0 is not used on the LM4F, passing 0 as the alt_func_num parameter will disable the alternate function of the given pins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gpioport</td><td>GPIO block register address base <a class="el" href="group__gpio__reg__base.html">GPIO register base addresses</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alt_func_num</td><td>Pin alternate function number or 0 to disable the alternate function multiplexing. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gpios</td><td><a class="el" href="group__gpio__pin__id.html">GPIO pin identifiers</a>. Any combination of pins may be specified by OR'ing then together </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gpio_8c_source.html#l00319">319</a> of file <a class="el" href="gpio_8c_source.html">gpio.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaeb5dfc3b455c08949eb1bcd871175ec6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpio_set_output_config </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>gpioport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__gpio__defines.html#gad59707c5e578193702cfb29b49b88108">gpio_output_type</a>&#160;</td>
          <td class="paramname"><em>otype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__gpio__defines.html#ga14eba84c1c8f80b08a770775d3bf060a">gpio_drive_strength</a>&#160;</td>
          <td class="paramname"><em>drive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td>
          <td class="paramname"><em>gpios</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure output parameters of a group of pins. </p>
<p>Sets the output configuration and drive strength, of or a set of GPIO pins for a set of GPIO pins in output mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gpioport</td><td>GPIO block register address base <a class="el" href="group__gpio__reg__base.html">GPIO register base addresses</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">otype</td><td>Output driver configuration (<a class="el" href="group__gpio__defines.html#gad59707c5e578193702cfb29b49b88108">gpio_output_type</a>) <br/>
<ul>
<li>GPIO_OTYPE_PP &ndash; Configure pin driver as push-pull <br/>
</li>
<li>GPIO_OTYPE_OD &ndash; Configure pin driver as open drain </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">drive</td><td>Pin drive strength (<a class="el" href="group__gpio__defines.html#ga14eba84c1c8f80b08a770775d3bf060a">gpio_drive_strength</a>) <br/>
<ul>
<li>GPIO_DRIVE_2MA &ndash; 2mA drive <br/>
</li>
<li>GPIO_DRIVE_4MA &ndash; 4mA drive <br/>
</li>
<li>GPIO_DRIVE_8MA &ndash; 8mA drive <br/>
</li>
<li>GPIO_DRIVE_8MA_SLEW_CTL &ndash; 8mA drive with slew rate control </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gpios</td><td><a class="el" href="group__gpio__pin__id.html">GPIO pin identifiers</a>. Any combination of pins may be specified by OR'ing then together </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gpio_8c_source.html#l00268">268</a> of file <a class="el" href="gpio_8c_source.html">gpio.c</a>.</p>

<p>References <a class="el" href="gpio_8h_source.html#l00199">GPIO_DRIVE_2MA</a>, <a class="el" href="gpio_8h_source.html#l00200">GPIO_DRIVE_4MA</a>, <a class="el" href="gpio_8h_source.html#l00201">GPIO_DRIVE_8MA</a>, <a class="el" href="gpio_8h_source.html#l00202">GPIO_DRIVE_8MA_SLEW_CTL</a>, and <a class="el" href="gpio_8h_source.html#l00195">GPIO_OTYPE_OD</a>.</p>

</div>
</div>
<a class="anchor" id="gad85a11697ef4bef24da7e75f7420a529"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpio_unlock_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>gpioport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="cm3.tag:../../cm3/html/" href="../../cm3/html/common_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>&#160;</td>
          <td class="paramname"><em>gpios</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock the commit control of a special function pin. </p>
<p>Unlocks the commit control of the given pin or group of pins. If a pin is a JTAG/SWD or NMI, the pin may then be reconfigured as a GPIO pin. If the pin is not locked by default, this has no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gpioport</td><td>GPIO block register address base <a class="el" href="group__gpio__reg__base.html">GPIO register base addresses</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gpios</td><td><a class="el" href="group__gpio__pin__id.html">GPIO pin identifiers</a>. Any combination of pins may be specified by OR'ing then together. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gpio_8c_source.html#l00362">362</a> of file <a class="el" href="gpio_8c_source.html">gpio.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jun 4 2013 20:21:32 for libopencm3 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
